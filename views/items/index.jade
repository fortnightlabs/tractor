form#filter
  input( type='date', name='date' )
  input( type='search', name='query', placeholder='search' )
  input( type='submit', value='go' )

.toolbar
  select#projects
    option( disabled=true ) project
    - each project in projects
      option( value=project.id )= project.name
  .totals

ul.items Loading

template( id='hour-view' ):
  table.hour
    thead
      tr
        th.project project
        th: input( type='checkbox' )
        th.hour= strftime('%l %p', items[0].get('start'))
        th.duration duration
        th.app app
        th.title title
    tbody
      - each item in items
        - item = item.attributes
        tr( id=item._id )
          td.project
            - if (item.projectId)
              = projects.get(item.projectId).get('name')
          td: input( type='checkbox' )
          td!= strftime('%l:<b>%M:%S</b>', item.start)
          td= toDurationString(item.duration)
          td= item.app
          td: div.title= item.info.title
      tr.footer

template( id='totals-view' ):
  th.totals( colspan=6 )
    = totals.count
    |  items: 
    dl.projects
      - each duration, projectId in totals.projects
        dt= projects.get(projectId).get('name')
        dd= toDurationString(duration)
      - if (totals.unassigned)
        dt unassigned
        dd= toDurationString(totals.unassigned)
